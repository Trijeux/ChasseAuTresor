#include <algorithm>
#include <iostream>
#include <string>
#include "Map.h"
#include "InputPlayer.h"


//Coordonnees
int coordonnees()
{
	bool ValidInput = true;
	std::string inputString;

	//ligne x
	unsigned int x = 0;

	//colonne y
	unsigned int y = 0;

	do
	{
		std::cout << "entre ligne (un numero) entre " << 1 << "-" << WIDTH << std::endl;
		std::getline(std::cin, inputString);

		ValidInput = true;

		if (inputString.length() == 0 || !std::all_of(inputString.begin(), inputString.end(), ::isdigit))
		{
			std::cout << inputString << " n'est pas un nombre" << std::endl;
			ValidInput = false;
		}
		if (ValidInput)
		{
			x = std::stoi(inputString);
			if (x > WIDTH) x = WIDTH;
			if (x < 1) x = 1;
		}

	} while (!ValidInput);

	do
	{
		std::cout << "entre colonne (un numero) entre " << 1 << "-" << HEIGHT << std::endl;
		std::getline(std::cin, inputString);

		ValidInput = true;

		if (inputString.length() == 0 || !std::all_of(inputString.begin(), inputString.end(), ::isdigit))
		{
			std::cout << inputString << " n'est pas un nombre" << std::endl;
			ValidInput = false;
		}

		if (ValidInput)
		{
			y = std::stoi(inputString);
			if (y > HEIGHT) y = HEIGHT;
			if (y < 1) y = 1;
		}

	} while (!ValidInput);

	return (x - 1) * HEIGHT + (y - 1);
}


//Condition de Victoire
bool compar(int indexresult)
{
	if (coffre[indexresult] == tile::coffre_tresor)
	{
		affichage_plateau[indexresult] = 2;
		std::cout << "        ..::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::..        " << std::endl;
		std::cout << "    .-#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#=.    " << std::endl;
		std::cout << "  .+@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@+.  " << std::endl;
		std::cout << ".:%@@@@+--#@@@========================================================================@@@#--+@@@@%:." << std::endl;
		std::cout << ".@@@@+:::-#@@@========================================================================@@@#-:::+@@@@:" << std::endl;
		std::cout << "*@@@+::::-#@@@========================================================================@@@#-::::+@@@*" << std::endl;
		std::cout << "@@@%=::::-#@@@========================================================================@@@#-::::-%@@@" << std::endl;
		std::cout << "@@@#-::::-#@@@################+==========*################*==========+################@@@#-::::-#@@@" << std::endl;
		std::cout << "@@@#-::::-#@@@@@@@@@@@@@@@@@@@@*========@@@@@@@@@@@@@@@@@@@@========+@@@@@@@@@@@@@@@@@@@@#-::::-#@@@" << std::endl;
		std::cout << "@@@#-::::-#@@@%###############*==========##################+=========+###############%@@@#-::::-#@@@" << std::endl;
		std::cout << "@@@#-::::-#@@@========================================================================@@@#-::::-#@@@" << std::endl;
		std::cout << "@@@#-::::-#@@@========================================================================@@@#-::::-#@@@" << std::endl;
		std::cout << "@@@#-::::-#@@@========================================================================@@@#-::::-#@@@" << std::endl;
		std::cout << "@@@#-::::-#@@@========================================================================@@@#-::::-#@@@" << std::endl;
		std::cout << "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@" << std::endl;
		std::cout << "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@" << std::endl;
		std::cout << "@@@%====================================#@@@+==========+@@@#====================================%@@@" << std::endl;
		std::cout << "@@@#-::::::::::::::::::::::::::::::::::-*@@@=::::::::::=@@@*-::::::::::::::::::::::::::::::::::-#@@@" << std::endl;
		std::cout << "@@@#-::::::::::::::::::::::::::::::::::-*@@@=::::::::::=@@@*-::::::::::::::::::::::::::::::::::-#@@@" << std::endl;
		std::cout << "@@@#-:::::::::-%%%%%%%%%%%%%%%%%%%%%%%%%@@@@=:::-##=:::=@@@@%%%%%%%%%%%%%%%%%%%%%%%%%-:::::::::-#@@@" << std::endl;
		std::cout << "@@@#-:::::::::#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@=::-%@@%-::=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%:::::::::-#@@@" << std::endl;
		std::cout << "@@@#-::::::::#@@@%+=====================*@@@=:::-==-:::=@@@*=====================+%@@@#::::::::-#@@@" << std::endl;
		std::cout << "@@@#-::::=@@@@@@@=======================+@@@@=::::::::=@@@@+=======================@@@@@@@=::::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@@@==========================+@@@@@@-::-%@@@@%+==========================@@@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@+=============================#@@@@@@@@@@@@%=============================+@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@+================================#@@@@@@#================================+@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@@@@@@@@@@@@@=====#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%===========%@@@@@@@@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@@@@@@@@@@@@#=====+@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*===========*@@@@@@@@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@+========================================================================+@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@+========================================================================+@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@+========================================================================+@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@+========================================================================+@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@+======+****************========+*************========+**************====+@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@+=====#@@@@@@@@@@@@@@@@@+=======@@@@@@@@@@@@@@#======+@@@@@@@@@@@@@@@%===+@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@+======*###############*========+*###########*========+*############*+===+@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@+========================================================================+@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::*@@@%*======================================================================+#@@@*-:::-#@@@" << std::endl;
		std::cout << "@@@#-::::+@@@@@@#==================================================================#@@@@@@+::::-#@@@" << std::endl;
		std::cout << "@@@#-:::::-=+@@@@%================================================================#@@@@+=-:::::-#@@@" << std::endl;
		std::cout << "@@@#-::::::::-%@@@@@@@@@@@@@@@@@@@@@@@@@@@#=====*@@*=====#@@@@@@@@@@@@@@@@@@@@@@@@@@@@-::::::::-#@@@" << std::endl;
		std::cout << "@@@#-:::::::::+@@@@@@@@@@@@@@@@@@@@@@@@@@@%=:::-*@@*-:::-%@@@@@@@@@@@@@@@@@@@@@@@@@@@+:::::::::-#@@@" << std::endl;
		std::cout << "@@@#-::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::-#@@@" << std::endl;
		std::cout << "@@@#-::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::-#@@@" << std::endl;
		std::cout << "@@@#-::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::-#@@@" << std::endl;
		std::cout << "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@" << std::endl;
		std::cout << "%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%" << std::endl;
		std::cout << "Tu as trouve le Tresor tu as gagne" << std::endl;
		return true;
	}
	affichage_plateau[indexresult] = 1;
	std::cout << "Rien trouve" << std::endl;
	return false;

}